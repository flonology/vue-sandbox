<script>
    My.Random = function() {
        var self = {
            rangeTypes: ['special', 'lower', 'upper', 'number'],
            charMap: {
                special: ['!','$','%','&','(',')','{','}','[',']','.','-','_'],
                lower: ['a','b','c','d','e','f','g','h','k','l','m','n','p','q','r','s','t','u','v','w','x','y','z'],
                upper: ['A','B','C','D','E','F','G','H','K','L','M','N','P','Q','R','S','T','U','V','W','X','Y','Z'],
                number: ['1','2','3','4','5','6','7','8','9']
            }
        };


        var randomIntBetween = function(min, max) {
            return Math.floor(
                Math.random() * (max - min + 1)
            ) + min
        };


        var randomCharOfType = function(type) {
            if (self.charMap[type] === undefined) {
                return '';
            }

            var charRange = self.charMap[type];
            var charIndex = randomIntBetween(0, charRange.length - 1);

            return charRange[charIndex];
        }


        var randomChar = function() {
            var rangeType = self.rangeTypes[
                randomIntBetween(0, self.rangeTypes.length - 1)
            ];

            return randomCharOfType(rangeType);
        };


        var password = function(length) {
            var password = '';

            for (var chars = 0; chars < length; chars += 1) {
                password += randomChar();
            }

            return password;
        };


        return {
            randomCharOfType: randomCharOfType,
            randomChar: randomChar,
            password: password
        };
    };
</script>
