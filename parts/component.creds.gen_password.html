<script type="text/x-template" id="creds-gen-password-tpl">
    <div>
            <input
                placeholder="length"
                type="number"
                class="form__input form__input--short"
                v-model="passwordLength"
                v-on:keyup.enter="generatePassword"
            />

            <button
                class="button"
                type="button"
                v-on:click="generatePassword">generate</button>

            <button
                class="button"
                type="button"
                v-on:click="close">X</button>
        </label>
    </div>
</script>


<script>
    Vue.component('creds-gen-password', {
        template: '#creds-gen-password-tpl',
        data: function() {
            return {
                password: '',
                passwordLength: 32,
                randomGenerator: My.Random()
            };
        },
        methods: {
            generatePassword: function() {
                var password = this.randomGenerator.password(this.passwordLength);
                this.$emit('password-generated', password);
            },
            close: function() {
                this.$emit('close');
            }
        }
    });
</script>
